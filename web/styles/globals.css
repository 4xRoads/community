/* -----------------------------------------
   Modern UI refresh (non-breaking)
   Paste BELOW your existing tokens.
------------------------------------------*/

/* 1) New semantic/elevation tokens (no renames of your old vars) */
:root {
  /* Elevation & shadow system */
  --elev-0: 0 0 0 1px color-mix(in oklch, var(--border) 60%, transparent);
  --elev-1: 0 1px 2px 0 color-mix(in oklch, var(--foreground) 10%, transparent),
            0 1px 1px -1px color-mix(in oklch, var(--foreground) 12%, transparent);
  --elev-2: 0 6px 16px -6px color-mix(in oklch, var(--foreground) 14%, transparent),
            0 2px 6px -2px color-mix(in oklch, var(--foreground) 10%, transparent);

  /* Surface ramp (keeps your existing --card, --accent, etc.) */
  --surface-1: var(--card);
  --surface-2: color-mix(in oklch, var(--card) 92%, var(--accent) 8%);
  --surface-3: color-mix(in oklch, var(--card) 85%, var(--accent) 15%);

  /* Subtle modern primary (keeps --primary as-is but makes hover nicer) */
  --primary-600: color-mix(in oklch, var(--primary) 86%, white);
  --primary-700: color-mix(in oklch, var(--primary) 94%, black);

  /* Soft borders that adapt to theme */
  --border-strong: color-mix(in oklch, var(--foreground) 18%, transparent);
  --border-soft:   color-mix(in oklch, var(--foreground) 10%, transparent);

  /* Motion + radius system */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  --ease-out: cubic-bezier(.17,.67,.27,.99);
  --dur-fast: 120ms;
  --dur-med: 200ms;

  /* Responsive type scale (fallbacks if Tailwind text vars aren’t set) */
  --text-base: clamp(13px, 0.9vw, 14px);
  --text-lg:   clamp(14px, 1.0vw, 16px);
  --text-xl:   clamp(16px, 1.2vw, 18px);
  --text-2xl:  clamp(18px, 1.6vw, 22px);
}

/* Dark equivalents for the new tokens */
.dark {
  --surface-1: var(--card);
  --surface-2: color-mix(in oklch, var(--card) 90%, var(--accent) 10%);
  --surface-3: color-mix(in oklch, var(--card) 80%, var(--accent) 20%);

  --primary-600: color-mix(in oklch, var(--primary) 92%, black);
  --primary-700: color-mix(in oklch, var(--primary) 80%, black);

  --border-strong: color-mix(in oklch, var(--foreground) 26%, transparent);
  --border-soft:   color-mix(in oklch, var(--foreground) 16%, transparent);
}

/* 2) Subtle base polish (cards, inputs, buttons, focus) */
@layer base {
  /* Card & panel polish */
  .card, .panel, .sheet {
    background: var(--surface-1);
    border: 1px solid var(--border-soft);
    border-radius: var(--radius-lg);
    box-shadow: var(--elev-0);
  }

  /* Panel “raised” variant (e.g., modals, popovers) */
  .elev-1 { box-shadow: var(--elev-1); }
  .elev-2 { box-shadow: var(--elev-2); }

  /* Inputs */
  input, select, textarea {
    background: var(--color-input-background, var(--input-background));
    border: 1px solid var(--border-soft);
    border-radius: var(--radius-md);
    transition: border-color var(--dur-fast) var(--ease-out),
                box-shadow var(--dur-fast) var(--ease-out),
                background-color var(--dur-fast) var(--ease-out);
  }
  input:hover, select:hover, textarea:hover {
    border-color: var(--border-strong);
  }
  input:focus, select:focus, textarea:focus {
    outline: none;
    border-color: var(--primary-600);
    box-shadow: 0 0 0 4px color-mix(in oklch, var(--primary) 25%, transparent);
  }

  /* Buttons (respect your existing classes; this only enhances generic buttons) */
  button {
    border-radius: var(--radius-md);
    transition: transform var(--dur-fast) var(--ease-out),
                box-shadow var(--dur-fast) var(--ease-out),
                background-color var(--dur-fast) var(--ease-out);
    will-change: transform;
  }
  .btn-primary {
    background: var(--primary);
    color: var(--primary-foreground);
  }
  .btn-primary:hover { background: var(--primary-700); transform: translateY(-1px); }
  .btn-primary:active { transform: translateY(0); }

  /* Tags/pills for statuses on schedule cards */
  .pill {
    background: var(--secondary);
    color: var(--secondary-foreground);
    border-radius: 999px;
    padding: 0.25rem 0.5rem;
    border: 1px solid var(--border-soft);
  }

  /* 3) Better focus styles globally (for a11y) */
  :focus-visible {
    outline: 3px solid color-mix(in oklch, var(--ring) 65%, transparent);
    outline-offset: 2px;
  }

  /* 4) Section dividers looking lighter */
  .divider {
    border-color: var(--border-soft);
  }

  /* 5) Reduced motion respect */
  @media (prefers-reduced-motion: reduce) {
    * { transition: none !important; animation: none !important; }
  }
}

/* 6) Schedule card recipe (non-breaking utility you can opt into) */
.schedule-card {
  background: var(--surface-2);
  border: 1px solid var(--border-soft);
  border-radius: var(--radius-lg);
  box-shadow: var(--elev-0);
  padding: 0.75rem;
  transition: box-shadow var(--dur-med) var(--ease-out),
              transform var(--dur-fast) var(--ease-out),
              background-color var(--dur-fast) var(--ease-out);
}
.schedule-card:hover {
  box-shadow: var(--elev-1);
  transform: translateY(-1px);
}
.schedule-card .title { font-weight: 600; }
.schedule-card .meta  { color: var(--muted-foreground); }
.schedule-card .row   { display: flex; gap: .5rem; align-items: center; }

/* Optional: status accents (map to your statuses) */
.status--scheduled { background: color-mix(in oklch, var(--accent) 92%, white); }
.status--confirmed { background: color-mix(in oklch, var(--accent) 90%, var(--chart-2) 10%); }
.status--calledoff { background: color-mix(in oklch, var(--accent) 90%, var(--destructive) 10%); }
.status--completed { background: color-mix(in oklch, var(--accent) 90%, var(--chart-5) 10%); }
